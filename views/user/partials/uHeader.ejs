<header class="bg-indigo-600 text-white px-4 sm:px-6 py-3 sm:py-4 shadow flex justify-between items-center fixed w-full top-0 z-50">
  <div class="flex items-center gap-4 sm:gap-6">
    <!-- Mobile menu toggle -->
    <button type="button" class="sm:hidden mr-2 sm:mr-4 text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-600 focus:ring-white" id="mobile-menu-toggle" aria-controls="mobile-menu" aria-expanded="false">
      <span class="sr-only">Open menu</span>
      <svg class="h-5 sm:h-6 w-5 sm:w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <!-- Brand or title -->
    <h1 class="text-lg sm:text-xl font-semibold tracking-tight sm:tracking-wide">User Dashboard</h1>

    <!-- Top navigation links (Desktop) -->
    <nav class="hidden sm:flex gap-2 sm:gap-4 ml-4 sm:ml-6 text-xs sm:text-sm">
      <a href="/user/home" class="hover:underline">Home</a>
      <a href="/user/shop" class="hover:underline">Shop</a>
      <a href="/user/wishlist" class="hover:underline">Wishlist</a>
      <a href="/user/cart" class="hover:underline">Cart</a>
      <a href="/user/profile" class="hover:underline">Profile</a>
    </nav>
  </div>

  <div class="flex items-center gap-2 sm:gap-4">
    <span class="hidden lg:block text-xs sm:text-sm">Welcome, <%= user.fullname %></span>
    <% if (user.profileImage) { %>
      <img src="/Uploads/ProfileImages/<%= user.profileImage.split('/').pop() %>" alt="Profile" class="w-8 sm:w-10 h-8 sm:h-10 rounded-full object-cover ring-2 ring-white shadow" />
    <% } else { %>
      <div class="w-8 sm:w-10 h-8 sm:h-10 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-xs sm:text-sm font-medium">
        <%= user.fullname.charAt(0).toUpperCase() %>
      </div>
    <% } %>
    <form action="/user/logout" method="POST" class="inline">
      <button type="submit" class="text-white hover:text-gray-200 text-xs sm:text-sm font-medium">Logout</button>
    </form>
  </div>

  <!-- Mobile menu -->
  <nav id="mobile-menu" class="hidden sm:hidden flex-col gap-4 text-sm bg-indigo-700 px-4 py-6 absolute top-full left-0 w-full shadow-lg">
    <a href="/user/home" class="hover:underline">Home</a>
    <a href="/user/shop" class="hover:underline">Shop</a>
    <a href="/user/wishlist" class="hover:underline">Wishlist</a>
    <a href="/user/cart" class="hover:underline">Cart</a>
    <a href="/user/profile" class="hover:underline">Profile</a>
  </nav>
</header>

<style>
  #mobile-menu {
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
    transform: translateY(-100%);
    opacity: 0;
  }
  #mobile-menu.active {
    transform: translateY(0);
    opacity: 1;
  }
  @media (max-width: 640px) {
    #mobile-menu {
      text-align: center;
    }
  }
</style>

<script>
  document.getElementById('mobile-menu-toggle').addEventListener('click', function () {
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('active');
  });
</script>